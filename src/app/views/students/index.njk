{% extends "layout.njk" %}

{% block responsive %}
  <link rel="stylesheet" href="/responsive.scss">
{% endblock responsive %}

{% block content %}

  <div class="card table-container">

    <div class="header">

      <a class="button" href="/students/create">Novo</a>

      <form action="/students" method="GET">
        <input 
          type="text" 
          name="filter" 
          placeholder=" Ex: Nome, Atividade"
          value={{filter}}>
        <button type="submit">Pesquisar</button>
      </form>

    </div>
  
    <table width="100%">      
      <!--CABEÇALHO DA TABELA-->
      <thead>
        <tr>        
          <th>Aluno</th>
          <th>Email</th>
          <th>Celular</th>
          <th>Série</th>
          <th>Ação</th>
        </tr>
      </thead>

      <!--CORPO DA TABELA-->
      <tbody>
        {% for student in students %}
          <tr>            
            <td>
              <span style="background-image:url({{student.avatar_url}})"></span>
            
              {{student.name}}
            </td>
            <td data-label="EMAIL">{{student.email_student}}</td>
            <td data-label="CELULAR">{{student.phone}}</td>
            <td data-label="SÉRIE">{{student.education_level}}</td>
            <td><a href="/students/{{student.id}}">ver</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="pagination"
        data-page={{pagination.page}}
        data-total={{pagination.total}}
        data-filter={{filter}}>        
    </div> 
    
  </div>
  
{% endblock content %}
